CREATE SCHEMA IF NOT EXISTS home_credit;
SET search_path TO home_credit, public;

CREATE TABLE IF NOT EXISTS application_train (
    "SK_ID_CURR" DOUBLE PRECISION,
    "TARGET" DOUBLE PRECISION,
    "NAME_CONTRACT_TYPE" TEXT,
    "CODE_GENDER" TEXT,
    "FLAG_OWN_CAR" TEXT,
    "FLAG_OWN_REALTY" TEXT,
    "CNT_CHILDREN" DOUBLE PRECISION,
    "AMT_INCOME_TOTAL" DOUBLE PRECISION,
    "AMT_CREDIT" DOUBLE PRECISION,
    "AMT_ANNUITY" DOUBLE PRECISION,
    "AMT_GOODS_PRICE" DOUBLE PRECISION,
    "NAME_TYPE_SUITE" TEXT,
    "NAME_INCOME_TYPE" TEXT,
    "NAME_EDUCATION_TYPE" TEXT,
    "NAME_FAMILY_STATUS" TEXT,
    "NAME_HOUSING_TYPE" TEXT,
    "REGION_POPULATION_RELATIVE" DOUBLE PRECISION,
    "DAYS_BIRTH" DOUBLE PRECISION,
    "DAYS_EMPLOYED" DOUBLE PRECISION,
    "DAYS_REGISTRATION" DOUBLE PRECISION,
    "DAYS_ID_PUBLISH" DOUBLE PRECISION,
    "OWN_CAR_AGE" DOUBLE PRECISION,
    "FLAG_MOBIL" DOUBLE PRECISION,
    "FLAG_EMP_PHONE" DOUBLE PRECISION,
    "FLAG_WORK_PHONE" DOUBLE PRECISION,
    "FLAG_CONT_MOBILE" DOUBLE PRECISION,
    "FLAG_PHONE" DOUBLE PRECISION,
    "FLAG_EMAIL" DOUBLE PRECISION,
    "OCCUPATION_TYPE" TEXT,
    "CNT_FAM_MEMBERS" DOUBLE PRECISION,
    "REGION_RATING_CLIENT" DOUBLE PRECISION,
    "REGION_RATING_CLIENT_W_CITY" DOUBLE PRECISION,
    "WEEKDAY_APPR_PROCESS_START" TEXT,
    "HOUR_APPR_PROCESS_START" DOUBLE PRECISION,
    "REG_REGION_NOT_LIVE_REGION" DOUBLE PRECISION,
    "REG_REGION_NOT_WORK_REGION" DOUBLE PRECISION,
    "LIVE_REGION_NOT_WORK_REGION" DOUBLE PRECISION,
    "REG_CITY_NOT_LIVE_CITY" DOUBLE PRECISION,
    "REG_CITY_NOT_WORK_CITY" DOUBLE PRECISION,
    "LIVE_CITY_NOT_WORK_CITY" DOUBLE PRECISION,
    "ORGANIZATION_TYPE" TEXT,
    "EXT_SOURCE_1" DOUBLE PRECISION,
    "EXT_SOURCE_2" DOUBLE PRECISION,
    "EXT_SOURCE_3" DOUBLE PRECISION,
    "APARTMENTS_AVG" DOUBLE PRECISION,
    "BASEMENTAREA_AVG" DOUBLE PRECISION,
    "YEARS_BEGINEXPLUATATION_AVG" DOUBLE PRECISION,
    "YEARS_BUILD_AVG" DOUBLE PRECISION,
    "COMMONAREA_AVG" DOUBLE PRECISION,
    "ELEVATORS_AVG" DOUBLE PRECISION,
    "ENTRANCES_AVG" DOUBLE PRECISION,
    "FLOORSMAX_AVG" DOUBLE PRECISION,
    "FLOORSMIN_AVG" DOUBLE PRECISION,
    "LANDAREA_AVG" DOUBLE PRECISION,
    "LIVINGAPARTMENTS_AVG" DOUBLE PRECISION,
    "LIVINGAREA_AVG" DOUBLE PRECISION,
    "NONLIVINGAPARTMENTS_AVG" DOUBLE PRECISION,
    "NONLIVINGAREA_AVG" DOUBLE PRECISION,
    "APARTMENTS_MODE" DOUBLE PRECISION,
    "BASEMENTAREA_MODE" DOUBLE PRECISION,
    "YEARS_BEGINEXPLUATATION_MODE" DOUBLE PRECISION,
    "YEARS_BUILD_MODE" DOUBLE PRECISION,
    "COMMONAREA_MODE" DOUBLE PRECISION,
    "ELEVATORS_MODE" DOUBLE PRECISION,
    "ENTRANCES_MODE" DOUBLE PRECISION,
    "FLOORSMAX_MODE" DOUBLE PRECISION,
    "FLOORSMIN_MODE" DOUBLE PRECISION,
    "LANDAREA_MODE" DOUBLE PRECISION,
    "LIVINGAPARTMENTS_MODE" DOUBLE PRECISION,
    "LIVINGAREA_MODE" DOUBLE PRECISION,
    "NONLIVINGAPARTMENTS_MODE" DOUBLE PRECISION,
    "NONLIVINGAREA_MODE" DOUBLE PRECISION,
    "APARTMENTS_MEDI" DOUBLE PRECISION,
    "BASEMENTAREA_MEDI" DOUBLE PRECISION,
    "YEARS_BEGINEXPLUATATION_MEDI" DOUBLE PRECISION,
    "YEARS_BUILD_MEDI" DOUBLE PRECISION,
    "COMMONAREA_MEDI" DOUBLE PRECISION,
    "ELEVATORS_MEDI" DOUBLE PRECISION,
    "ENTRANCES_MEDI" DOUBLE PRECISION,
    "FLOORSMAX_MEDI" DOUBLE PRECISION,
    "FLOORSMIN_MEDI" DOUBLE PRECISION,
    "LANDAREA_MEDI" DOUBLE PRECISION,
    "LIVINGAPARTMENTS_MEDI" DOUBLE PRECISION,
    "LIVINGAREA_MEDI" DOUBLE PRECISION,
    "NONLIVINGAPARTMENTS_MEDI" DOUBLE PRECISION,
    "NONLIVINGAREA_MEDI" DOUBLE PRECISION,
    "FONDKAPREMONT_MODE" TEXT,
    "HOUSETYPE_MODE" TEXT,
    "TOTALAREA_MODE" DOUBLE PRECISION,
    "WALLSMATERIAL_MODE" TEXT,
    "EMERGENCYSTATE_MODE" TEXT,
    "OBS_30_CNT_SOCIAL_CIRCLE" DOUBLE PRECISION,
    "DEF_30_CNT_SOCIAL_CIRCLE" DOUBLE PRECISION,
    "OBS_60_CNT_SOCIAL_CIRCLE" DOUBLE PRECISION,
    "DEF_60_CNT_SOCIAL_CIRCLE" DOUBLE PRECISION,
    "DAYS_LAST_PHONE_CHANGE" DOUBLE PRECISION,
    "FLAG_DOCUMENT_2" DOUBLE PRECISION,
    "FLAG_DOCUMENT_3" DOUBLE PRECISION,
    "FLAG_DOCUMENT_4" DOUBLE PRECISION,
    "FLAG_DOCUMENT_5" DOUBLE PRECISION,
    "FLAG_DOCUMENT_6" DOUBLE PRECISION,
    "FLAG_DOCUMENT_7" DOUBLE PRECISION,
    "FLAG_DOCUMENT_8" DOUBLE PRECISION,
    "FLAG_DOCUMENT_9" DOUBLE PRECISION,
    "FLAG_DOCUMENT_10" DOUBLE PRECISION,
    "FLAG_DOCUMENT_11" DOUBLE PRECISION,
    "FLAG_DOCUMENT_12" DOUBLE PRECISION,
    "FLAG_DOCUMENT_13" DOUBLE PRECISION,
    "FLAG_DOCUMENT_14" DOUBLE PRECISION,
    "FLAG_DOCUMENT_15" DOUBLE PRECISION,
    "FLAG_DOCUMENT_16" DOUBLE PRECISION,
    "FLAG_DOCUMENT_17" DOUBLE PRECISION,
    "FLAG_DOCUMENT_18" DOUBLE PRECISION,
    "FLAG_DOCUMENT_19" DOUBLE PRECISION,
    "FLAG_DOCUMENT_20" DOUBLE PRECISION,
    "FLAG_DOCUMENT_21" DOUBLE PRECISION,
    "AMT_REQ_CREDIT_BUREAU_HOUR" DOUBLE PRECISION,
    "AMT_REQ_CREDIT_BUREAU_DAY" DOUBLE PRECISION,
    "AMT_REQ_CREDIT_BUREAU_WEEK" DOUBLE PRECISION,
    "AMT_REQ_CREDIT_BUREAU_MON" DOUBLE PRECISION,
    "AMT_REQ_CREDIT_BUREAU_QRT" DOUBLE PRECISION,
    "AMT_REQ_CREDIT_BUREAU_YEAR" DOUBLE PRECISION,
    PRIMARY KEY ("SK_ID_CURR")
);

CREATE TABLE IF NOT EXISTS application_test (
    "SK_ID_CURR" DOUBLE PRECISION,
    "NAME_CONTRACT_TYPE" TEXT,
    "CODE_GENDER" TEXT,
    "FLAG_OWN_CAR" TEXT,
    "FLAG_OWN_REALTY" TEXT,
    "CNT_CHILDREN" DOUBLE PRECISION,
    "AMT_INCOME_TOTAL" DOUBLE PRECISION,
    "AMT_CREDIT" DOUBLE PRECISION,
    "AMT_ANNUITY" DOUBLE PRECISION,
    "AMT_GOODS_PRICE" DOUBLE PRECISION,
    "NAME_TYPE_SUITE" TEXT,
    "NAME_INCOME_TYPE" TEXT,
    "NAME_EDUCATION_TYPE" TEXT,
    "NAME_FAMILY_STATUS" TEXT,
    "NAME_HOUSING_TYPE" TEXT,
    "REGION_POPULATION_RELATIVE" DOUBLE PRECISION,
    "DAYS_BIRTH" DOUBLE PRECISION,
    "DAYS_EMPLOYED" DOUBLE PRECISION,
    "DAYS_REGISTRATION" DOUBLE PRECISION,
    "DAYS_ID_PUBLISH" DOUBLE PRECISION,
    "OWN_CAR_AGE" DOUBLE PRECISION,
    "FLAG_MOBIL" DOUBLE PRECISION,
    "FLAG_EMP_PHONE" DOUBLE PRECISION,
    "FLAG_WORK_PHONE" DOUBLE PRECISION,
    "FLAG_CONT_MOBILE" DOUBLE PRECISION,
    "FLAG_PHONE" DOUBLE PRECISION,
    "FLAG_EMAIL" DOUBLE PRECISION,
    "OCCUPATION_TYPE" TEXT,
    "CNT_FAM_MEMBERS" DOUBLE PRECISION,
    "REGION_RATING_CLIENT" DOUBLE PRECISION,
    "REGION_RATING_CLIENT_W_CITY" DOUBLE PRECISION,
    "WEEKDAY_APPR_PROCESS_START" TEXT,
    "HOUR_APPR_PROCESS_START" DOUBLE PRECISION,
    "REG_REGION_NOT_LIVE_REGION" DOUBLE PRECISION,
    "REG_REGION_NOT_WORK_REGION" DOUBLE PRECISION,
    "LIVE_REGION_NOT_WORK_REGION" DOUBLE PRECISION,
    "REG_CITY_NOT_LIVE_CITY" DOUBLE PRECISION,
    "REG_CITY_NOT_WORK_CITY" DOUBLE PRECISION,
    "LIVE_CITY_NOT_WORK_CITY" DOUBLE PRECISION,
    "ORGANIZATION_TYPE" TEXT,
    "EXT_SOURCE_1" DOUBLE PRECISION,
    "EXT_SOURCE_2" DOUBLE PRECISION,
    "EXT_SOURCE_3" DOUBLE PRECISION,
    "APARTMENTS_AVG" DOUBLE PRECISION,
    "BASEMENTAREA_AVG" DOUBLE PRECISION,
    "YEARS_BEGINEXPLUATATION_AVG" DOUBLE PRECISION,
    "YEARS_BUILD_AVG" DOUBLE PRECISION,
    "COMMONAREA_AVG" DOUBLE PRECISION,
    "ELEVATORS_AVG" DOUBLE PRECISION,
    "ENTRANCES_AVG" DOUBLE PRECISION,
    "FLOORSMAX_AVG" DOUBLE PRECISION,
    "FLOORSMIN_AVG" DOUBLE PRECISION,
    "LANDAREA_AVG" DOUBLE PRECISION,
    "LIVINGAPARTMENTS_AVG" DOUBLE PRECISION,
    "LIVINGAREA_AVG" DOUBLE PRECISION,
    "NONLIVINGAPARTMENTS_AVG" DOUBLE PRECISION,
    "NONLIVINGAREA_AVG" DOUBLE PRECISION,
    "APARTMENTS_MODE" DOUBLE PRECISION,
    "BASEMENTAREA_MODE" DOUBLE PRECISION,
    "YEARS_BEGINEXPLUATATION_MODE" DOUBLE PRECISION,
    "YEARS_BUILD_MODE" DOUBLE PRECISION,
    "COMMONAREA_MODE" DOUBLE PRECISION,
    "ELEVATORS_MODE" DOUBLE PRECISION,
    "ENTRANCES_MODE" DOUBLE PRECISION,
    "FLOORSMAX_MODE" DOUBLE PRECISION,
    "FLOORSMIN_MODE" DOUBLE PRECISION,
    "LANDAREA_MODE" DOUBLE PRECISION,
    "LIVINGAPARTMENTS_MODE" DOUBLE PRECISION,
    "LIVINGAREA_MODE" DOUBLE PRECISION,
    "NONLIVINGAPARTMENTS_MODE" DOUBLE PRECISION,
    "NONLIVINGAREA_MODE" DOUBLE PRECISION,
    "APARTMENTS_MEDI" DOUBLE PRECISION,
    "BASEMENTAREA_MEDI" DOUBLE PRECISION,
    "YEARS_BEGINEXPLUATATION_MEDI" DOUBLE PRECISION,
    "YEARS_BUILD_MEDI" DOUBLE PRECISION,
    "COMMONAREA_MEDI" DOUBLE PRECISION,
    "ELEVATORS_MEDI" DOUBLE PRECISION,
    "ENTRANCES_MEDI" DOUBLE PRECISION,
    "FLOORSMAX_MEDI" DOUBLE PRECISION,
    "FLOORSMIN_MEDI" DOUBLE PRECISION,
    "LANDAREA_MEDI" DOUBLE PRECISION,
    "LIVINGAPARTMENTS_MEDI" DOUBLE PRECISION,
    "LIVINGAREA_MEDI" DOUBLE PRECISION,
    "NONLIVINGAPARTMENTS_MEDI" DOUBLE PRECISION,
    "NONLIVINGAREA_MEDI" DOUBLE PRECISION,
    "FONDKAPREMONT_MODE" TEXT,
    "HOUSETYPE_MODE" TEXT,
    "TOTALAREA_MODE" DOUBLE PRECISION,
    "WALLSMATERIAL_MODE" TEXT,
    "EMERGENCYSTATE_MODE" TEXT,
    "OBS_30_CNT_SOCIAL_CIRCLE" DOUBLE PRECISION,
    "DEF_30_CNT_SOCIAL_CIRCLE" DOUBLE PRECISION,
    "OBS_60_CNT_SOCIAL_CIRCLE" DOUBLE PRECISION,
    "DEF_60_CNT_SOCIAL_CIRCLE" DOUBLE PRECISION,
    "DAYS_LAST_PHONE_CHANGE" DOUBLE PRECISION,
    "FLAG_DOCUMENT_2" DOUBLE PRECISION,
    "FLAG_DOCUMENT_3" DOUBLE PRECISION,
    "FLAG_DOCUMENT_4" DOUBLE PRECISION,
    "FLAG_DOCUMENT_5" DOUBLE PRECISION,
    "FLAG_DOCUMENT_6" DOUBLE PRECISION,
    "FLAG_DOCUMENT_7" DOUBLE PRECISION,
    "FLAG_DOCUMENT_8" DOUBLE PRECISION,
    "FLAG_DOCUMENT_9" DOUBLE PRECISION,
    "FLAG_DOCUMENT_10" DOUBLE PRECISION,
    "FLAG_DOCUMENT_11" DOUBLE PRECISION,
    "FLAG_DOCUMENT_12" DOUBLE PRECISION,
    "FLAG_DOCUMENT_13" DOUBLE PRECISION,
    "FLAG_DOCUMENT_14" DOUBLE PRECISION,
    "FLAG_DOCUMENT_15" DOUBLE PRECISION,
    "FLAG_DOCUMENT_16" DOUBLE PRECISION,
    "FLAG_DOCUMENT_17" DOUBLE PRECISION,
    "FLAG_DOCUMENT_18" DOUBLE PRECISION,
    "FLAG_DOCUMENT_19" DOUBLE PRECISION,
    "FLAG_DOCUMENT_20" DOUBLE PRECISION,
    "FLAG_DOCUMENT_21" DOUBLE PRECISION,
    "AMT_REQ_CREDIT_BUREAU_HOUR" DOUBLE PRECISION,
    "AMT_REQ_CREDIT_BUREAU_DAY" DOUBLE PRECISION,
    "AMT_REQ_CREDIT_BUREAU_WEEK" DOUBLE PRECISION,
    "AMT_REQ_CREDIT_BUREAU_MON" DOUBLE PRECISION,
    "AMT_REQ_CREDIT_BUREAU_QRT" DOUBLE PRECISION,
    "AMT_REQ_CREDIT_BUREAU_YEAR" DOUBLE PRECISION,
    PRIMARY KEY ("SK_ID_CURR")
);

CREATE TABLE IF NOT EXISTS bureau (
    "SK_ID_CURR" DOUBLE PRECISION,
    "SK_ID_BUREAU" DOUBLE PRECISION PRIMARY KEY,
    "CREDIT_ACTIVE" TEXT,
    "CREDIT_CURRENCY" TEXT,
    "DAYS_CREDIT" DOUBLE PRECISION,
    "CREDIT_DAY_OVERDUE" DOUBLE PRECISION,
    "DAYS_CREDIT_ENDDATE" DOUBLE PRECISION,
    "DAYS_ENDDATE_FACT" DOUBLE PRECISION,
    "AMT_CREDIT_MAX_OVERDUE" DOUBLE PRECISION,
    "CNT_CREDIT_PROLONG" DOUBLE PRECISION,
    "AMT_CREDIT_SUM" DOUBLE PRECISION,
    "AMT_CREDIT_SUM_DEBT" DOUBLE PRECISION,
    "AMT_CREDIT_SUM_LIMIT" DOUBLE PRECISION,
    "AMT_CREDIT_SUM_OVERDUE" DOUBLE PRECISION,
    "CREDIT_TYPE" TEXT,
    "DAYS_CREDIT_UPDATE" DOUBLE PRECISION,
    "AMT_ANNUITY" DOUBLE PRECISION
);

CREATE TABLE IF NOT EXISTS bureau_balance (
    "SK_ID_BUREAU" DOUBLE PRECISION,
    "MONTHS_BALANCE" DOUBLE PRECISION,
    "STATUS" TEXT,
    PRIMARY KEY ("SK_ID_BUREAU", "MONTHS_BALANCE")
);

CREATE TABLE IF NOT EXISTS credit_card_balance (
    "SK_ID_PREV" DOUBLE PRECISION,
    "SK_ID_CURR" DOUBLE PRECISION,
    "MONTHS_BALANCE" DOUBLE PRECISION,
    "AMT_BALANCE" DOUBLE PRECISION,
    "AMT_CREDIT_LIMIT_ACTUAL" DOUBLE PRECISION,
    "AMT_DRAWINGS_ATM_CURRENT" DOUBLE PRECISION,
    "AMT_DRAWINGS_CURRENT" DOUBLE PRECISION,
    "AMT_DRAWINGS_OTHER_CURRENT" DOUBLE PRECISION,
    "AMT_DRAWINGS_POS_CURRENT" DOUBLE PRECISION,
    "AMT_INST_MIN_REGULARITY" DOUBLE PRECISION,
    "AMT_PAYMENT_CURRENT" DOUBLE PRECISION,
    "AMT_PAYMENT_TOTAL_CURRENT" DOUBLE PRECISION,
    "AMT_RECEIVABLE_PRINCIPAL" DOUBLE PRECISION,
    "AMT_RECIVABLE" DOUBLE PRECISION,
    "AMT_TOTAL_RECEIVABLE" DOUBLE PRECISION,
    "CNT_DRAWINGS_ATM_CURRENT" DOUBLE PRECISION,
    "CNT_DRAWINGS_CURRENT" DOUBLE PRECISION,
    "CNT_DRAWINGS_OTHER_CURRENT" DOUBLE PRECISION,
    "CNT_DRAWINGS_POS_CURRENT" DOUBLE PRECISION,
    "CNT_INSTALMENT_MATURE_CUM" DOUBLE PRECISION,
    "NAME_CONTRACT_STATUS" TEXT,
    "SK_DPD" DOUBLE PRECISION,
    "SK_DPD_DEF" DOUBLE PRECISION,
    PRIMARY KEY ("SK_ID_PREV", "MONTHS_BALANCE")
);

CREATE TABLE IF NOT EXISTS pos_cash_balance (
    "SK_ID_PREV" DOUBLE PRECISION,
    "SK_ID_CURR" DOUBLE PRECISION,
    "MONTHS_BALANCE" DOUBLE PRECISION,
    "CNT_INSTALMENT" DOUBLE PRECISION,
    "CNT_INSTALMENT_FUTURE" DOUBLE PRECISION,
    "NAME_CONTRACT_STATUS" TEXT,
    "SK_DPD" DOUBLE PRECISION,
    "SK_DPD_DEF" DOUBLE PRECISION,
    PRIMARY KEY ("SK_ID_PREV", "MONTHS_BALANCE")
);
